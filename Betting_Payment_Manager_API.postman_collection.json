{
  "info": {
    "name": "Betting Payment Manager API",
    "description": "Complete API collection for Betting Payment Manager with authentication, transactions, admin, and agent endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api/v1",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "playerUuid",
      "value": "",
      "type": "string"
    },
    {
      "key": "transactionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "agentId",
      "value": "2",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin@example.com\",\n  \"password\": \"AdminPass123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', response.refreshToken);",
                  "    console.log('Access token saved:', response.accessToken);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Login Agent",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"agent@example.com\",\n  \"password\": \"AgentPass123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', response.refreshToken);",
                  "    console.log('Agent access token saved:', response.accessToken);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.accessToken);",
                  "    console.log('Token refreshed:', response.accessToken);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/profile",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "profile"]
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"AdminPass123!\",\n  \"newPassword\": \"NewAdminPass123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/change-password",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "change-password"]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            }
          }
        }
      ]
    },
    {
      "name": "Public Endpoints",
      "item": [
        {
          "name": "Get Welcome Message",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/config/welcome?lang=en",
              "host": ["{{baseUrl}}"],
              "path": ["config", "welcome"],
              "query": [
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            }
          }
        },
        {
          "name": "Get Deposit Banks",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/config/deposit-banks",
              "host": ["{{baseUrl}}"],
              "path": ["config", "deposit-banks"]
            }
          }
        },
        {
          "name": "Get Withdrawal Banks",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/config/withdrawal-banks",
              "host": ["{{baseUrl}}"],
              "path": ["config", "withdrawal-banks"]
            }
          }
        },
        {
          "name": "Get Languages",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/config/languages",
              "host": ["{{baseUrl}}"],
              "path": ["config", "languages"]
            }
          }
        },
        {
          "name": "Create Player",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"telegramId\": \"123456789\",\n  \"telegramUsername\": \"testplayer\",\n  \"languageCode\": \"en\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/players",
              "host": ["{{baseUrl}}"],
              "path": ["players"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('playerUuid', response.player.playerUuid);",
                  "    console.log('Player UUID saved:', response.player.playerUuid);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Player by UUID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/players/{{playerUuid}}",
              "host": ["{{baseUrl}}"],
              "path": ["players", "{{playerUuid}}"]
            }
          }
        },
        {
          "name": "Update Player",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"telegramId\": \"123456789\",\n  \"telegramUsername\": \"updatedplayer\",\n  \"languageCode\": \"es\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/players/{{playerUuid}}",
              "host": ["{{baseUrl}}"],
              "path": ["players", "{{playerUuid}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Transactions",
      "item": [
        {
          "name": "Create Deposit Transaction",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"playerUuid\": \"{{playerUuid}}\",\n  \"type\": \"DEPOSIT\",\n  \"amount\": 100.00,\n  \"currency\": \"USD\",\n  \"depositBankId\": 1,\n  \"bettingSiteId\": 1,\n  \"playerSiteId\": \"player123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/transactions",
              "host": ["{{baseUrl}}"],
              "path": ["transactions"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('transactionId', response.transaction.id);",
                  "    console.log('Transaction ID saved:', response.transaction.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Create Withdrawal Transaction",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"playerUuid\": \"{{playerUuid}}\",\n  \"type\": \"WITHDRAW\",\n  \"amount\": 50.00,\n  \"currency\": \"USD\",\n  \"withdrawalBankId\": 1,\n  \"withdrawalAddress\": \"test-address-123\",\n  \"bettingSiteId\": 1,\n  \"playerSiteId\": \"player123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/transactions",
              "host": ["{{baseUrl}}"],
              "path": ["transactions"]
            }
          }
        },
        {
          "name": "Create Transaction with File Upload",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "playerUuid",
                  "value": "{{playerUuid}}",
                  "type": "text"
                },
                {
                  "key": "type",
                  "value": "DEPOSIT",
                  "type": "text"
                },
                {
                  "key": "amount",
                  "value": "75.00",
                  "type": "text"
                },
                {
                  "key": "currency",
                  "value": "USD",
                  "type": "text"
                },
                {
                  "key": "depositBankId",
                  "value": "1",
                  "type": "text"
                },
                {
                  "key": "bettingSiteId",
                  "value": "1",
                  "type": "text"
                },
                {
                  "key": "playerSiteId",
                  "value": "player123",
                  "type": "text"
                },
                {
                  "key": "screenshot",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/transactions",
              "host": ["{{baseUrl}}"],
              "path": ["transactions"]
            }
          }
        },
        {
          "name": "Get Player Transactions",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/transactions?playerUuid={{playerUuid}}&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["transactions"],
              "query": [
                {
                  "key": "playerUuid",
                  "value": "{{playerUuid}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Get Transaction Details",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/transactions/{{transactionId}}?player_uuid={{playerUuid}}",
              "host": ["{{baseUrl}}"],
              "path": ["transactions", "{{transactionId}}"],
              "query": [
                {
                  "key": "player_uuid",
                  "value": "{{playerUuid}}"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Admin Endpoints",
      "item": [
        {
          "name": "Get All Transactions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/transactions?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "transactions"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            }
          }
        },
        {
          "name": "Get Transactions with Filters",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/transactions?status=PENDING&type=DEPOSIT&agent={{agentId}}&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "transactions"],
              "query": [
                {
                  "key": "status",
                  "value": "PENDING"
                },
                {
                  "key": "type",
                  "value": "DEPOSIT"
                },
                {
                  "key": "agent",
                  "value": "{{agentId}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Assign Transaction to Agent",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"agentId\": {{agentId}}\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/transactions/{{transactionId}}/assign",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "transactions", "{{transactionId}}", "assign"]
            }
          }
        },
        {
          "name": "Update Transaction Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"SUCCESS\",\n  \"adminNotes\": \"Transaction completed successfully\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/transactions/{{transactionId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "transactions", "{{transactionId}}", "status"]
            }
          }
        },
        {
          "name": "Get Agents with Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/agents",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "agents"]
            }
          }
        }
      ]
    },
    {
      "name": "Agent Endpoints",
      "item": [
        {
          "name": "Get Assigned Tasks",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/agent/tasks?status=PENDING&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["agent", "tasks"],
              "query": [
                {
                  "key": "status",
                  "value": "PENDING"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Process Transaction",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"SUCCESS\",\n  \"agentNotes\": \"Payment verified and processed\",\n  \"evidenceUrl\": \"https://example.com/receipt.jpg\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/agent/transactions/{{transactionId}}/process",
              "host": ["{{baseUrl}}"],
              "path": ["agent", "transactions", "{{transactionId}}", "process"]
            }
          }
        },
        {
          "name": "Upload Evidence",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/agent/evidence",
              "host": ["{{baseUrl}}"],
              "path": ["agent", "evidence"]
            }
          }
        },
        {
          "name": "Get Agent Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/agent/stats",
              "host": ["{{baseUrl}}"],
              "path": ["agent", "stats"]
            }
          }
        }
      ]
    },
    {
      "name": "Admin Configuration",
      "item": [
        {
          "name": "Get Deposit Banks",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/deposit-banks",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "deposit-banks"]
            }
          }
        },
        {
          "name": "Create Deposit Bank",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bankName\": \"New Bank\",\n  \"accountNumber\": \"9876543210\",\n  \"accountName\": \"Betting Payment Manager\",\n  \"notes\": \"New deposit account\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/deposit-banks",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "deposit-banks"]
            }
          }
        },
        {
          "name": "Update Deposit Bank",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bankName\": \"Updated Bank Name\",\n  \"accountNumber\": \"9876543210\",\n  \"accountName\": \"Updated Account Name\",\n  \"notes\": \"Updated notes\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/deposit-banks/1",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "deposit-banks", "1"]
            }
          }
        },
        {
          "name": "Delete Deposit Bank",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/deposit-banks/1",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "deposit-banks", "1"]
            }
          }
        },
        {
          "name": "Get Withdrawal Banks",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/withdrawal-banks",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "withdrawal-banks"]
            }
          }
        },
        {
          "name": "Create Withdrawal Bank",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bankName\": \"New Withdrawal Bank\",\n  \"requiredFields\": [\n    {\n      \"name\": \"account_number\",\n      \"label\": \"Account Number\",\n      \"type\": \"text\",\n      \"required\": true\n    },\n    {\n      \"name\": \"routing_number\",\n      \"label\": \"Routing Number\",\n      \"type\": \"text\",\n      \"required\": true\n    }\n  ],\n  \"notes\": \"New withdrawal bank\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/withdrawal-banks",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "withdrawal-banks"]
            }
          }
        },
        {
          "name": "Get Templates",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/templates",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "templates"]
            }
          }
        },
        {
          "name": "Create Template",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"languageCode\": \"en\",\n  \"keyName\": \"custom_message\",\n  \"content\": \"This is a custom message template\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/templates",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "templates"]
            }
          }
        },
        {
          "name": "Get Languages",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/languages",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "languages"]
            }
          }
        },
        {
          "name": "Create Language",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"de\",\n  \"name\": \"German\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/languages",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "languages"]
            }
          }
        }
      ]
    },
    {
      "name": "File Upload",
      "item": [
        {
          "name": "Upload File",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/uploads",
              "host": ["{{baseUrl}}"],
              "path": ["uploads"]
            }
          }
        },
        {
          "name": "Get Upload Configuration",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/uploads/config",
              "host": ["{{baseUrl}}"],
              "path": ["uploads", "config"]
            }
          }
        },
        {
          "name": "Delete File",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/uploads/filename.jpg",
              "host": ["{{baseUrl}}"],
              "path": ["uploads", "filename.jpg"]
            }
          }
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Register New User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"newadmin@example.com\",\n  \"password\": \"NewAdminPass123!\",\n  \"displayName\": \"New Administrator\",\n  \"roleId\": 7,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/users",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users"]
            }
          }
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/users?page=1&limit=20&role=1&search=admin&isActive=true",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "role",
                  "value": "7"
                },
                {
                  "key": "search",
                  "value": "admin"
                },
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            }
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/users/2",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users", "2"]
            }
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"updatedadmin@example.com\",\n  \"displayName\": \"Updated Administrator\",\n  \"roleId\": 7,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/users/2",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users", "2"]
            }
          }
        },
        {
          "name": "Change User Password",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"newPassword\": \"NewSecurePassword123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/users/2/password",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users", "2", "password"]
            }
          }
        },
        {
          "name": "Toggle User Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/users/2/toggle-status",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users", "2", "toggle-status"]
            }
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/users/2",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users", "2"]
            }
          }
        },
        {
          "name": "Get User Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/users/statistics",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users", "statistics"]
            }
          }
        },
        {
          "name": "Get All Roles",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/roles",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "roles"]
            }
          }
        },
        {
          "name": "Create Agent User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"newagent@example.com\",\n  \"password\": \"AgentPass123!\",\n  \"displayName\": \"New Agent\",\n  \"roleId\": 8,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/users",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users"]
            }
          }
        },
        {
          "name": "Get Agents Only",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/users?role=2&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users"],
              "query": [
                {
                  "key": "role",
                  "value": "8"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Search Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/users?search=admin&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users"],
              "query": [
                {
                  "key": "search",
                  "value": "admin"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Betting Sites Management",
      "item": [
        {
          "name": "Get All Betting Sites (Public)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/config/betting-sites",
              "host": ["{{baseUrl}}"],
              "path": ["config", "betting-sites"]
            }
          }
        },
        {
          "name": "Get Active Betting Sites",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/config/betting-sites?isActive=true",
              "host": ["{{baseUrl}}"],
              "path": ["config", "betting-sites"],
              "query": [
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            }
          }
        },
        {
          "name": "Get Betting Site by ID (Public)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/config/betting-sites/1",
              "host": ["{{baseUrl}}"],
              "path": ["config", "betting-sites", "1"]
            }
          }
        },
        {
          "name": "Get All Betting Sites (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/betting-sites",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "betting-sites"]
            }
          }
        },
        {
          "name": "Get Betting Site by ID (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/betting-sites/1",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "betting-sites", "1"]
            }
          }
        },
        {
          "name": "Create Betting Site",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New Betting Site\",\n  \"description\": \"A new betting platform for sports and casino games\",\n  \"website\": \"https://new-betting-site.com\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/betting-sites",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "betting-sites"]
            }
          }
        },
        {
          "name": "Update Betting Site",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Betting Site\",\n  \"description\": \"Updated description for the betting platform\",\n  \"website\": \"https://updated-betting-site.com\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/betting-sites/1",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "betting-sites", "1"]
            }
          }
        },
        {
          "name": "Toggle Betting Site Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/betting-sites/1/toggle-status",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "betting-sites", "1", "toggle-status"]
            }
          }
        },
        {
          "name": "Delete Betting Site",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/betting-sites/1",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "betting-sites", "1"]
            }
          }
        }
      ]
    },
    {
      "name": "System",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:3000/health",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["health"]
            }
          }
        },
        {
          "name": "Get Metrics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/metrics",
              "host": ["{{baseUrl}}"],
              "path": ["metrics"]
            }
          }
        }
      ]
    },
    {
      "name": "Error Testing",
      "item": [
        {
          "name": "Invalid Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin@example.com\",\n  \"password\": \"wrongpassword\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Missing Authorization",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/admin/transactions",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "transactions"]
            }
          }
        },
        {
          "name": "Invalid Transaction Data",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"playerUuid\": \"invalid-uuid\",\n  \"type\": \"DEPOSIT\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/transactions",
              "host": ["{{baseUrl}}"],
              "path": ["transactions"]
            }
          }
        },
        {
          "name": "File Too Large",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/uploads",
              "host": ["{{baseUrl}}"],
              "path": ["uploads"]
            }
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global pre-request script",
          "console.log('Making request to:', pm.request.url);"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test script",
          "console.log('Response status:', pm.response.code);",
          "console.log('Response time:', pm.response.responseTime + 'ms');"
        ]
      }
    }
  ]
}